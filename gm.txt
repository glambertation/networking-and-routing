2016/5/12
5/5不小心在git版本回退的时候删掉了。
这周：


我们最开始的时候设计的树形网络结构，后续改成网状的，然后这个网络结构变复杂后，与原来的设计就有不少bug冲突，比如说路由表就格式就变得更复杂，节点相互发送信息（转发时）考虑情况也变多了，也多了一些必须的功能：比如说我们要把所有子节点的路由表上报（这个在树状是不需要的），然后这周就在边测试边改bug。
然后目前，组网程序测试这块，我觉得简单基本功能是ok的：
比如：
1.节点相互发信息，搭建的网络是网状的。
2.我们根据搭建的这个网，可以查找任意节点，得到一条到达这个节点的路径
3.路由表的增删改查都ok
4.如果一个节点掉了，失联了。由于我们是网状的，所以在能联通的范围内，路由表会自己换一条路径，实现动态组网


这个是电脑上调试，如果上板子+电力线后，需要解决的问题是：
1.信道冲突 ，这个到时候再想办法。

================
2016/4/28
usart双存储 乒乓存储
子节点打包路由上报

这周跟弭强师兄讨论了很多程序实现细节：程序怎么写
树形+星型，师兄也给我们讲了网状的一些好处，和网状具体怎么实现。反正就是师兄来一趟，我们项目程序进展速度突飞俩礼拜；昨天和今天，组网程序这块进展挺多的，网状结构快写完了，再修改修改，然后就可以上板子测试了。
徐传旭这边在写测试用例。

公司那边，也一直在沟通，我们一直在询问具体的拓扑要求，公司那边说的不是很清楚。然后我们自己提出的想法（分布式路由，大家都有计算路径怎么走的能力，公司发了一片论文给我们参考，那篇是集中路由，就是最高一个点知道路由），公司那边也没给肯定和否定，让我们上板子测试，来判断我们做的有效不有效
我觉得我们也不用把我们具体怎么做的，大方向上细节跟公司通报。反正这块也快改完，到时候再根据测试，来好好修改细节。然后拿成品跟公司聊。

=====
2016/4/21
修改了组网逻辑细节，包括：具体的主节点怎么给子节点发，子节点收到信息后做出什么。
超级easy无功能版组网：主节点发，子节点收，注册路由表后，子节点作为中继查表给自己下一级的子节点发
修改了小问题：收到信息收不全，问了一下振友，修改了中断程序。

上周跟邵萌讨论：
公司倾向于树形+网状。现在组网是树形的简易版，树形和网状结构，在代码实现上体现在路由表的设计上，这周也在看怎么设计路由表，因为后面的路由算法都要在这个路由表的基础上写，所以想把路由表做的合理一些，不要后期老改老改。

1.等下周上板子，约弥强师兄加电力线测试
2.改完网状路由再测试
==============
2016/4/7
路由表双链表，master-child-fellow模式，路由插入删除都ok，（路由维护：插入删除）

剩下需要写：跟父节点的指针，（路由重构：一个节点失联重新泛洪），消息队列，信息转发，路由查询

===========
2016/3/31
收到的字符串切分ok
路由表 单链表插入ok

===============
2016/3/24
uasrt recv写完


2016/3/17
开始写路由协议。从组网开始写。
写完了ping包send（参考了mqtt和aodv）
大约写12个数据包，6对，然后写路由表，然后写查表转发（三层可能涉及不到算法）
具体的，包碰撞需要写多线程，日志记录，报错机制，队列堆栈


2016/3/11
mqtt文档看完
写了主从节点帧格式
战舰里usart 串口通信程序，usart库函数（硬件环境问题，@振友）
看mqtt-py的client程序是如何定义command-type（看ing）

2016/3/3
选mqtt协议，选mosquitto-1.4.8版本
在虚拟机上开三个终端试着通信，make编译出错，运行成功（简单订阅，发布信息）
看mqtt官方文档7/40页
